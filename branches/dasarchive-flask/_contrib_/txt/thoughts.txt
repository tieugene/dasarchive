= DasAchive =

== Отображение (текст) =

== Выбор ==
С обычными полями ввода не получается нифейхоа хорошего. Никак. Поэтому - граф и только.
Для начала - статический (SVG).
Порядок: onclick > POST/GET > action (server-side) > repaint (server-side) > show.
Узлы могут быть в состояниях:
* Выбран
* Доступен
* Недоступен
(что с корневыми делать - пока непонятно; допусти таки root == фасета)

=== Action ===
* Выбран:
-- немножественный:
	* удолить из выбранных всё от родительской фасеты и ниже.
-- множественный:
	* удолить из выбранных всё ниже ближайшего общего с соседями родителя (ярлыка).
* Доступен:
-- немножественный:
	* удолить все _не_ на пути (т.е. соседи и ниже по иерархии) фасет-выбранный вместе с подчиненными фасетами
	* удолить все на пути фасет-выбранный _без_ подчиненных фасет
	* добавить выбранный
-- множественный:
	* удолить все на пути фасет-выбранный _без_ подчиненных фасет
	* [удолить все подчиненные вместе с подчиненными фасетами]
	* добавить выбранный
Для Фасет и Недоступен - nothing to do.

=== Repaint ===
Исходные данные - выбранные узлы.
* Выбран - no comments
* Доступен:
-- на пути root => выбранные
-- не на пути, но непосредственно в фасетах, подчиненных узлам на пути
* Недоступен - все остальные

=== Show ===
* Выделены: выбранные узлы и ребра между ними (от корня)
* Не выделены - недоступные
* Полувыделены - доступные фасеты.
* различать можественные и немножественные фасеты или узлы
* для доступных и выбранных - onclick enabled
* отображение:  ([Фасета]: ярлык/ярлык,) - уступами (ul)
(=> может, так и сдлать классикой?.. ярлыки - список (ярлык[/ярлык[/ярлык]]), чуть ниже - списки доступных фасет (список/radio или checkbox)

== Dynamic (JS) ==
singleclick и dclick смешивать нельзя - только что-то одно.
Ввод данных - в скрытом поле перечислены id выбранных узлов.
* перед редактированием:
-- рисуем граф
-- расцвечиваем как надо узлы и рёбра (class)
-- после загрузки - вешаем на узлы onclick()
-- и где-то храним внутреннее представление графа
* после редактирования - сливаем скрытое input field
* по reset - восстанавливаем status quo

== Idea ==
* Сказать "имеет такой-то признак" - мало. Надо сказать "...из".
* вложенный ярлык == анонимный фасет
